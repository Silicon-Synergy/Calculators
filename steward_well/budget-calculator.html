<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personal Finance Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./css/style.css" />
  <link href="css/normalize.css" rel="stylesheet" type="text/css" />
  <link href="css/webflow.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <link href="css/stewardwellcapital.webflow.css" rel="stylesheet" type="text/css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#6366f1",
            secondary: "#8b5cf6",
            accent: "#06b6d4",
            dark: "#0f172a",
            "dark-light": "#1e293b",
          },
          animation: {
            "fade-in": "fadeIn 0.5s ease-in-out",
            "slide-up": "slideUp 0.3s ease-out",
            "slide-down": "slideDown 0.3s ease-out",
            glow: "glow 2s ease-in-out infinite alternate",
          },
        },
      },
    };
  </script>
  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes slideDown {
      from {
        transform: translateY(-10px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
      }

      to {
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.6);
      }
    }

    input {
      -moz-appearance: textfield;
      /* Firefox */
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      /* Chrome, Safari, Edge */
      margin: 0;
    }

    .nav_cta {
      background-color: #000;
      background-image: linear-gradient(135deg,
          var(--base-color-brand--brand-green),
          #16418a);
      color: var(--text-color--text-alternate);
      text-align: center;
      text-transform: uppercase;
      border-radius: 0.4rem;
      padding: 0.75rem 2rem;
      font-size: 1rem;
      font-weight: 500;
      text-decoration: none;
      transition: background-color 0.5s;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Active button styling */
    button.active {
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
      transform: scale(1.05);
    }

    .input-glow:focus {
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1),
        0 0 20px rgba(99, 102, 241, 0.2);
    }

    /* Calculator Dropdown Styles */
    .calculator-dropdown {
      position: relative;
      display: inline-block;
    }

    .menu_links-wrapper {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .nav_menu_link {
      display: inline-block;
    }

    .dropdown-content {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      min-width: 300px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border-radius: 12px;
      padding: 8px 0;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .dropdown-content.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
      animation: slideDown 0.3s ease-out;
    }

    .dropdown-item {
      display: block;
      padding: 12px 20px;
      color: #374151;
      text-decoration: none;
      transition: all 0.2s ease;
      border-bottom: 1px solid #f3f4f6;
      font-weight: 500;
    }

    .dropdown-item:last-child {
      border-bottom: none;
    }

    .dropdown-item:hover {
      background-color: #f8fafc;
      color: #6366f1;
      transform: translateX(4px);
    }

    .dropdown-item.active {
      background-color: #e0e7ff;
      color: #6366f1;
      font-weight: 600;
    }

    .calculator-dropdown:hover .dropdown-content {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .nav_menu_link {
      position: relative;
      transition: color 0.3s ease;
    }

    .nav_menu_link:hover {
      color: #6366f1;
    }

    .dropdown-arrow {
      display: inline-block;
      margin-left: 6px;
      transition: transform 0.3s ease;
    }

    .calculator-dropdown:hover .dropdown-arrow {
      transform: rotate(180deg);
    }

    /* Background for the "Your Income" container */
    #annual-income-section .glass-effect {
      background-color: #e6f2e6;
      /* Soft Muted Green */
    }

    /* Background for the "Tax Deductions & Income Overview" container */
    #deductions-disposable-section {
      background-color: white;
      /* Light Airy Blue */
    }

    /* Background for the "Monthly Living Expenses" container */
    #living-expenses-section {
      background-color: white;
      /* Gentle Warm Sand */
    }

    /* We also need to adjust the text color for better readability on the new backgrounds */
    #main-calculator-card h1,
    #main-calculator-card h2,
    #main-calculator-card h3,
    #main-calculator-card p,
    #main-calculator-card label,
    #main-calculator-card button,
    #main-calculator-card span,
    #main-calculator-card div,
    #main-calculator-card a {
      color: #0f172a;
      /* A dark color like 'dark' from your tailwind config */
    }

    /* Make sure input fields have dark text too */
    .input-field,
    #dropdownSelected {
      color: #0f172a !important;
    }

    .input-field {
      background-color: #dfece6;
    }

    /* The dropdown list needs a background and dark text */
    #customProvinceOptions {
      background-color: #ffffff;
      color: #0f172a;
    }

    #customProvinceOptions li:hover {
      background-color: #f1f5f3;
    }

    /* Adjusting some specific elements that were styled for a dark background */
    .text-white {
      color: #0f172a;
    }

    .text-white\/80 {
      color: rgba(15, 23, 42, 0.8);
    }

    .text-gray-300 {
      color: #475569;
      /* A medium gray */
    }

    .text-red-400 {
      color: #ef4444;
      /* Keep error/deduction colors */
    }

    .text-green-400 {
      color: #22c55e;
      /* Keep income colors */
    }

    .text-blue-400 {
      color: #3b82f6;
      /* Keep monthly income colors */
    }

    .category-toggle:hover {
      filter: brightness(0.95);
    }

    .tooltip-text {
      color: #0f172a;
      /* dark color */
    }

    /* Mobile responsive for dropdown */
    @media (max-width: 768px) {
      .dropdown-content {
        min-width: 280px;
        left: 0;
        width: 100%;
      }

      .menu_links-wrapper {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .lite-header {
        display: block !important;
      }

      .dropdown-item {
        padding: 10px 15px;
        font-size: 14px;
      }

      .dropdown-item>div>div:last-child {
        font-size: 11px !important;
      }

      #main-calculator-card h2,
      #main-calculator-card h3 {
        letter-spacing: 0.025em;
        /* Adjust as needed */
      }
    }

    @media (max-width: 640px) {
      .input-group.flex {
        gap-x: 10px !important;
        /* Reduce gap for very small screens */
      }
    }

    @media (min-width: 992px) {
      .lite-header {
        display: none !important;
      }
    }
  </style>
</head>

<body class="min-h-screen bg-[#C7DFD2]">
  <div class="nav_fixed">
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="nav_component w-nav">
      <div class="padding-global">
        <div class="nav_container">
          <a href="index.html" aria-current="page" class="nav_brand w-nav-brand w--current"><img src="images/Logo.svg" loading="lazy" alt="Steward Well Capital Logo" class="nav_logo" /></a>
          <nav role="navigation" class="nav_menu w-nav-menu">
            <div class="menu_links-wrapper">
              <div class="lite-header" style="display: none">Menu</div>
              <a href="index.html#about-us" class="nav_menu_link w-nav-link">About us</a>
              <a href="index.html#services" class="nav_menu_link w-nav-link">Services</a>
              <a href="./index.html#testimonials" class="nav_menu_link w-nav-link">Testimonials</a>

              <div class="calculator-dropdown" style="display: inline-block">
                <a href="#" class="nav_menu_link w-nav-link" id="calculatorToggle" style="display: inline-flex; align-items: center">
                  Calculators
                  <span class="dropdown-arrow">
                    <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </span>
                </a>
                <div class="dropdown-content" id="calculatorDropdown">
                  <a href="budget-calculator.html" class="dropdown-item active">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Budgeting & Cashflow Calculator
                      </div>

                      <style>
                        .chart-btn-active {
                          transform: scale(1.1);
                          box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
                        }

                        .chart-btn-inactive {
                          transform: scale(0.95);
                          opacity: 0.7;
                        }

                        .chart-btn:hover {
                          transform: scale(1.05) !important;
                          opacity: 1 !important;
                        }
                      </style>
                      <div style="font-size: 12px; color: #6b7280">
                        Manage your monthly budget and cash flow
                      </div>
                    </div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Savings & Investment Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Plan your savings and investment goals
                      </div>
                    </div>
                  </a>
                  <a href="./savings-and-investment-calculator.html" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Networth and investment Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Track and manage your networth
                      </div>
                    </div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Debt & Credit Management Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Track and manage your debt payments
                      </div>
                    </div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Protection & Legacy Planning Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Plan for insurance and estate needs
                      </div>
                    </div>
                  </a>
                </div>
              </div>

              <a href="index.html#contact-us" class="nav_menu_link w-nav-link">Contact us</a>
              <a href="index.html#contact-us" class="nav_cta hide-desktop">Talk to an expert</a>
            </div>
            <div class="menu_socials hide-desktop">
              <div class="lite-header">Follow us</div>
              <div class="menu_socials_content">
                <a href="https://www.instagram.com/stewardwellcapital?igsh=MW11eG1panppNXF0Mg%3D%3D&amp;utm_source=qr" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/IG_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="https://x.com/stewardwellcap?s=11" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/X_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="#" class="social-link-wrapper hide w-inline-block"><img src="images/FB_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="https://www.linkedin.com/company/stewardwell-capital/" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/LI_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
              </div>
            </div>
          </nav>
          <a href="index.html#contact-us" class="nav_cta hide-tablet">Talk to an expert</a>
          <div data-w-id="396176c6-906a-9f74-c6d0-8a4663dfdeb3" class="nav_button w-nav-button">
            <div class="nav_menu-line _1"></div>
            <div class="nav_menu-line _2"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="main-calculator-card" class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Hero Section -->
    <div class="text-center mt-40 mb-12 animate-fade-in">
      <h2 class="text-4xl md:text-5xl font-bold text-white  md:leading-loose">
        Budgeting & Cashflow Calculator
      </h2>
      <div class="opacity-50 -mt-1"> This tool helps you see your cashflow clearly, set purposeful allocations, and view projections—simple budgeting that highlights trends, flags overspending, and shows progress toward your goals.</div>
    </div>

    <!-- Annual Income Input -->
    <section id="annual-income-section" class="mb-10">
      <div class="rounded-3xl p-8 border bg-white border-white/10 hover:border-primary/30 transition-all duration-300">
        <div class="flex items-center space-x-3 mb-6">
          <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
            </svg>
          </div>
          <h2 class="text-2xl font-bold text-white">Income</h2>
        </div>

        <div class="relative">
          <div class="input-group flex max-sm:flex-col w-[100%] justify-between max-sm:gap-y-5 gap-x-20">
            <!-- Hidden real select -->
            <select id="provinceSelect" class="hidden">
              <option value="">Choose your province...</option>
            </select>

            <!-- Custom dropdown UI -->
            <div class="relative w-[50%] max-sm:w-full">
              <label for="annualIncome" class="block text-sm font-medium text-gray-300 mb-2">Province</label>
              <p id="provinceError" class="error-message text-white"></p>
              <button id="dropdownBtn" type="button" class="w-[100%] pl-8 pr-4 flex justify-between py-4 border bg-[#dfece6] rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200">
                <span id="dropdownSelected">Choose province</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>

              <ul id="customProvinceOptions" class="glass-effect p-2 t w-full text-white rounded-2xl mt-2 z-50 max-h-60 overflow-y-auto" style="
                    max-height: 0;
                    overflow: hidden;
                    opacity: 0;
                    transition: max-height 0.5s ease-in-out,
                      opacity 0.5s ease-in-out;
                  ">
                <!-- dynamic <li>s will be injected here -->
              </ul>
            </div>
            <div class="relative w-[50%] max-sm:w-full">
              <label for="ageRange" class="block text-sm font-medium text-gray-300 mb-2">Select your age group</label>
              <p id="ageRangeError" class="error-message text-white"></p>

              <button id="ageDropdownBtn" type="button" class="w-[100%] pl-8 pr-4 flex justify-between py-4 border bg-[#dfece6] rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200">
                <span id="ageDropdownSelected">Choose your age range</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
              </button>

              <ul id="customAgeOptions" class="glass-effect p-2 w-full text-white rounded-2xl mt-2 z-50 overflow-y-auto" style="
                    max-height: 0;
                    overflow: hidden;
                    opacity: 0;
                    transition: max-height 0.5s ease-in-out,
                      opacity 0.5s ease-in-out;
                  ">
                <li class="cursor-pointer px-4 py-2 hover:bg-slate-100 w-[100%] text-black rounded">
                  Under 35
                </li>
                <li class="cursor-pointer px-4 py-2 hover:bg-white-100 text-black rounded">
                  35–44
                </li>
                <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                  45–54
                </li>
                <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                  55–64
                </li>
                <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                  65 and older
                </li>
              </ul>
            </div>
            <div class="w-[50%] max-sm:w-[100%]">
              <label for="annualIncome" class="block text-sm font-medium text-gray-300 mb-2">Annual Gross Income (Before Tax)</label>
              <div class="relative">
                <input type="number" id="annualIncome" class="input-field w-full pl-8 pr-4 py-4 bg-[#dfece6] border rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200" placeholder="Enter Income Amount" min="0" />
                <p id="annualIncomeError" class="error-message text-red-500 mt-2 mr-2"></p>
              </div>
            </div>
          </div>

          <div class="mt-5">
            <div class="flex gap-x-3">
              <p class="text-sm font-medium text-gray-300">
                Contribute to a workplace retirement plan?
              </p>
              <div class="flex items-center gap-3 text-sm text-gray-200">
                <label class="flex items-center gap-2">
                  <input id="includeRetirement" type="radio" name="retirementOption" value="yes" class="accent-green-500" />
                  Yes
                </label>
                <label class="flex items-center gap-2">
                  <input id="excludeRetirement" type="radio" name="retirementOption" value="no" class="accent-red-500" checked />
                  No
                </label>
              </div>
            </div>

            <div id="retirement-percentage-section" class="flex flex-col input-group mt-4" style="
                  max-height: 0;
                  overflow: hidden;
                  opacity: 0;
                  transition: max-height 0.5s ease-in-out,
                    opacity 0.5s ease-in-out;
                ">
              <label for="retirementPercentage" class="text-white text-sm">Annual Retirement Contribution Percentage (0-10%)</label>
              <div>
                <input type="number" min="0" max="10" step="0.1" id="retirementPercentage" class="input-field w-full sm:w-[20%] pl-8 pr-4 py-4 bg-[#dfece6] border border-white/20 rounded-xl mt-2 text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="e.g., 5 (for 5%)" />
                <p id="retirementPercentageError" class="error-message"></p>
                <p class="text-xs text-gray-500 mt-1">
                  Enter percentage of gross income (maximum 10%)
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- start here -->

    <!-- Deductions and Disposable Income Display -->
    <section id="deductions-disposable-section" class=" rounded-3xl p-8 border border-white/10 hover:border-primary/30 transition-all duration-300 result-box hidden animate-slide-up">
      <h2 class="text-2xl font-bold text-white">
        Taxes & Take-Home
      </h2>
      <span class="text-[.8rem] opacity-50">Tax percentages shown are estimates based on current rates from the CRA website.
      </span>

      <button id="deduction-toggle" class="mt-4 w-full flex items-center justify-between p-4 bg-gradient-to-r from-green-200 to-emerald-200 border border-white/20 rounded-xl text-green-900 hover:border-[#f1f5f3] transition-all duration-200 mb-4">
        <span class="font-medium">Deductions</span>
        <svg class="w-5 h-5 dropdown-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>

      <div id="deduction-inputs-container" class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mb-6 text-white overflow-hidden transition-all duration-500 ease-in-out max-h-0"></div>

      <div class="max-w-6xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Total Annual Deductions Card -->
          <div class="w-full pl-8 pr-4 py-4 border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200 bg-green-500/20">
            <h3 class="text-white/80 text-2xl font-bold mb-2">
              Total Annual Deduction
            </h3>
            <p id="totalAnnualDeductions" class="text-red-400 text-3xl font-bold">
              $4.26
            </p>
          </div>

          <!-- Annual Disposable Income Card -->
          <div class="w-full pl-8 pr-4 py-4 bg-green-500/20 border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
            <h3 class="text-white/80 text-2xl font-bold mb-2">
              Annual Take-home Pay
            </h3>
            <p id="annualDisposableIncome" class="text-green-400 text-3xl font-bold">
              $6.74
            </p>
          </div>

          <!-- Monthly Disposable Income Card -->
          <div class="w-full pl-8 pr-4 py-4 bg-green-500/20 border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
            <h3 class="text-whit  e/80 text-2xl font-bold mb-2">
              Monthly Take-home pay
            </h3>
            <p id="monthlyDisposableIncome" class="text-blue-400 text-3xl font-bold">
              $0.56
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- end here -->

    <!-- Monthly Living Expenses Input -->

    <section id="living-expenses-section" class="mt-10 glass-effect opacity-50 pointer-events-none rounded-3xl p-6 md:p-8 transition-colors duration-500 ease-in-out">
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
            </svg>
          </div>
          <div class="relative flex items-center">
            <div class="flex flex-col">
              <div class="flex items-center">
                <h2 class="text-2xl font-bold text-white">
                  Monthly Living Expenses
                </h2>
                <div class="group relative ml-2">
                  <svg class="w-5 h-5 text-gray-400 cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-white text-sm rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    MDI: Monthly Disposable Income
                  </div>
                </div>
              </div>
              <span class="text-[.8rem] opacity-50">
                Total monthly living expenses, including housing, utilities, transportation, food, and entertainment.
              </span>
            </div>
          </div>
        </div>
        <button id="toggle-all-expenses" class="text-sm font-medium text-white/80 hover:text-white transition-colors duration-200 focus:outline-none">
          Expand All
        </button>
      </div>

      <div class="space-y-4">
        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('housing')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
              </div>
              <span class="font-medium">Housing and Utilities</span>
              <span id="housing-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4 pt-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Rent/Mortgage <span id="rent_mortgage-percentage"></span></label>
                  <input type="number" id="rent-mortgage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Electricity <span id="electricity-percentage"></span></label>
                  <input type="number" id="electricity" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Water <span id="water-percentage"></span></label>
                  <input type="number" id="water" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Gas/Heating <span id="gas_heating-percentage"></span></label>
                  <input type="number" id="gas-heating" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Home Insurance
                    <span id="home_insurance-percentage"></span></label>
                  <input type="number" id="home-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="housing_others-percentage"></span></label>
                  <input type="number" id="housing-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('living')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
              </div>
              <span class="font-medium">Living Expenses</span>
              <span id="living-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4 pt-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Groceries <span id="groceries-percentage"></span></label>
                  <input type="number" id="groceries" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Subscriptions <span id="subscriptions-percentage"></span></label>
                  <input type="number" id="subscriptions" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Phone Bills <span id="phone_bills-percentage"></span></label>
                  <input type="number" id="phone-bills" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Internet <span id="internet-percentage"></span></label>
                  <input type="number" id="internet" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Clothing <span id="clothing-percentage"></span></label>
                  <input type="number" id="clothing" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="living_others-percentage"></span></label>
                  <input type="number" id="living-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('transportation')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-green-400 to-green-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
              </div>
              <span class="font-medium">Transportation</span>
              <span id="transportation-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4 pt-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Car Payment <span id="car_payment-percentage"></span></label>
                  <input type="number" id="car-payment" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Gas/Fuel <span id="gas_fuel-percentage"></span></label>
                  <input type="number" id="gas-fuel" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Car Insurance <span id="car_insurance-percentage"></span></label>
                  <input type="number" id="car-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Public Transit
                    <span id="public_transit-percentage"></span></label>
                  <input type="number" id="public-transit" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Car Maintenance
                    <span id="car_maintenance-percentage"></span></label>
                  <input type="number" id="car-maintenance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="transport_others-percentage"></span></label>
                  <input type="number" id="transport-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('loans')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-red-400 to-red-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <span class="font-medium">Loans and Insurance</span>
              <span id="loans-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Student Loans <span id="student_loans-percentage"></span></label>
                  <input type="number" id="student-loans" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Credit Cards <span id="credit_cards-percentage"></span></label>
                  <input type="number" id="credit-cards" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Personal Loans
                    <span id="personal_loans-percentage"></span></label>
                  <input type="number" id="personal-loans" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Life Insurance
                    <span id="life-insurance-percentage"></span></label>
                  <input type="number" id="life-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Line of Credit
                    <span id="line_of_credit-percentage"></span></label>
                  <input type="number" id="line-of-credit" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="loan_others-percentage"></span></label>
                  <input type="number" id="loan-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('children')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-pink-400 to-pink-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253z"></path>
                </svg>
              </div>
              <span class="font-medium">Children and Education</span>
              <span id="children-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">School Tuition
                    <span id="school_tuition-percentage"></span></label>
                  <input type="number" id="school-tuition" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Childcare <span id="childcare-percentage"></span></label>
                  <input type="number" id="childcare" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">School Supplies
                    <span id="school_supplies-percentage"></span></label>
                  <input type="number" id="school-supplies" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Kids Activities
                    <span id="kids_activities-percentage"></span></label>
                  <input type="number" id="kids-activities" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Education Savings
                    <span id="education_savings-percentage"></span></label>
                  <input type="number" id="education-savings" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="children_others-percentage"></span></label>
                  <input type="number" id="children-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="expense-category glass-effect rounded-2xl border border-white/10">
          <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 transition-all duration-300 rounded-2xl" onclick="toggleCategory('miscellaneous')">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <span class="font-medium">Miscellaneous Expenses</span>
              <span id="miscellaneous-total"></span>
            </div>
            <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
            <div class="p-4">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Health/Fitness <span id="healthcare-percentage"></span></label>
                  <input type="number" id="healthcare" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Entertainment <span id="entertainment-percentage"></span></label>
                  <input type="number" id="entertainment" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Dining Out <span id="dining_out-percentage"></span></label>
                  <input type="number" id="dining-out" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>

                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Pets <span id="pets-percentage"></span></label>
                  <input type="number" id="pets" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Gifts & Donations
                    <span id="gifts_donations-percentage"></span></label>
                  <input type="number" id="gifts-donations" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
                <div class="input-group">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Others <span id="misc_others-percentage"></span></label>
                  <input type="number" id="misc-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="integrated-expense-summary" class="mt-8 glass-effect p-4 rounded-xl text-white animate-slide-up">
        <p id="currentZoneMessage" class="status-message mt-3 text-white text-base italic text-center mb-4"></p>
        <div class="flex justify-center hidden" id="cta">
          <a href="index.html#contact-us" class="text-center nav_cta mb-4" id="nav_cta hide-tablet">Talk to an expert</a>
        </div>
        <div class="flex-row justify-center w-full flex gap-8">
          <div class="w-[60%] pl-8 pr-4 py-4 bg-white/5 border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200 flex-col justify-center">
            <p class="mr-3 text-lg text-center font-medium">
              <strong>Total Monthly Expenses</strong>
            </p>
            <p class="text-3xl font-bold text-center">
              <span id="currentTotalExpenses" class="text-3xl font-bold">$0.00</span>
              (<span class="text-3xl font-bold" id="currentExpensesPercentage">0.0%</span>)
            </p>
          </div>
          <div class="w-full pl-8 pr-4 py-4 bg-white/5 hidden border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200 flex-col">
            <p class="mr-3 text-lg font-medium">
              <strong>Budget Zone:</strong>
            </p>
            <span id="currentBudgetZone" class="status-badge text-3xl font-bold text-center">N/A</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Savings & Investments Input - Updated Layout -->
    <section id="savings-investments-section" class="mt-10 opacity-50 pointer-events-none glass-effect rounded-3xl p-8 text-white border border-white/10 hover:border-primary/30 transition-all duration-300 backdrop-blur-sm shadow-lg bg-white">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 pb-4 border-gray-300 flex items-center gap-2">
        <span class="text-white"></span> Savings & Investments Goals
        <button id="infoButton" class="focus:outline-none">
          <svg class="w-5 h-5 text-blue-400 hover:text-blue-300 cursor-pointer transition-colors duration-200" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
          </svg>
        </button>
      </h2>

      <!-- Popup Overlay -->
      <div id="infoPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl transform transition-all duration-300 scale-95">
          <div class="text-center">
            <div class="mb-4">
              <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-2">
                SWC Platform Recommendation
              </h3>
              <p class="text-gray-700 leading-relaxed mb-6">
                Our budget calculator suggests
                <strong>5-15% for savings</strong> and
                <strong>10-20% for investments</strong> to ensure sustainable
                financial growth while maintaining healthy cashflow. We care
                about your long-term financial wellness!
              </p>
              <div class="bg-blue-50 p-4 rounded-lg mb-6">
                <p class="text-sm text-blue-800">
                  <strong>Pro Tip:</strong> Allocation strategy varies by
                  budget zone: <br />
                  • Green Zone (expenses ≤70%): 10% cashflow, 5-15% savings,
                  10-20% investments<br />
                  • Moderate Zone (70-80%): 10% cashflow, up to 10% savings,
                  no investments<br />
                  • Red Zone (80-85%): At least 10% cashflow, 5-10% savings if
                  possible, no investments<br />
                  • Extreme Red Zone (>85%): All remaining goes to cashflow,
                  no savings, no investments
                </p>
              </div>
            </div>
            <button id="closePopup" class="w-full bg-blue-600 hover:bg-blue-700 !text-white font-medium py-3 px-6 rounded-xl transition-colors duration-200">
              Got it, thanks!
            </button>
          </div>
        </div>
      </div>
      <p id="si-guidance" class="text-white/90 text-base mb-8 leading-relaxed">
        This section will guide you based on your spending habits. You can
        customize how much you want to save or invest each month.
      </p>

      <!-- Two Column Layout -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Left Column: Recommended Allocations -->
        <div class="space-y-6">
          <div class="flex items-center gap-2 mb-6">
            <span>📊</span>
            <h3 class="text-xl font-semibold text-white">
              Recommended Allocations
            </h3>
            <div class="relative group ml-2 inline-block cursor-pointer">
              <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-green-900 text-sm font-normal rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-50">
                These are the suggested percentages based on prioritizing 10%
                cashflow, then 5-15% savings, then 10-20% investments.
              </div>
            </div>
          </div>
          <!-- Recommended Savings -->
          <div class="space-y-3">
            <label class="block text-sm font-medium text-white/80">
              Monthly Savings
            </label>
            <div class="grid grid-cols-2 gap-3">
              <div class="input-group">
                <label class="text-xs text-white/60 mt-1">Percentage</label>
                <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                  <span id="recommended-savings-percentage" class="text-white">0%</span>
                </div>
              </div>
              <div class="input-group">
                <label class="text-xs text-white/60 mt-1">Amount ($)</label>
                <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                  <span id="recommended-savings-amount" class="text-white">$0.00</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Recommended Investments -->
          <div class="space-y-3">
            <label class="block text-sm font-medium text-white/80">
              Monthly Investments
            </label>
            <div class="grid grid-cols-2 gap-3">
              <div class="input-group">
                <label class="text-xs text-white/60 mt-1">Percentage</label>
                <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                  <span id="recommended-investments-percentage" class="text-white">0%</span>
                </div>
              </div>
              <div class="input-group">
                <label class="text-xs text-white/60 mt-1">Amount ($)</label>
                <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                  <span id="recommended-investments-amount" class="text-white">$0.00</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Recommended Cashflow -->
          <div class="space-y-3">
            <label class="block text-sm font-medium text-white/80">
              Monthly Cashflow
            </label>
            <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
              <span id="recommended-cashflow-amount" class="text-white">$0.00</span>
              <span id="recommended-cashflow-percentage" class="text-red">(0.0%)</span>
            </div>
          </div>
        </div>

        <!-- Right Column: Recommended Allocations Projection Section -->
        <div class="space-y-6">
          <h3 class="text-xl font-semibold text-white mb-6">
            Recommended Allocations Projection
          </h3>

          <!-- Chart Type Buttons with Enhanced Styling -->
          <div class="flex justify-between gap-4 mb-6">
            <button id="savingsChartBtn" class="chart-btn chart-btn-active flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-lg transform scale-110 bg-gradient-to-r from-emerald-600 to-emerald-700">
              Savings
            </button>
            <button id="investmentsChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
              Investments
            </button>
            <button id="bothChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
              Both
            </button>
          </div>

          <!-- Chart and Summary Layout -->
          <div class="flex gap-6 items-start">
            <!-- Chart on the left -->
            <div class="flex-shrink-0 mt-4">
              <canvas id="myPieChart2" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
            </div>

            <!-- Summary on the right -->
            <div class="flex-1">
              <div id="projectionSummary" class="p-4 bg-white/5 rounded-lg border border-white/10 h-full"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Toggle Button for Custom Allocations -->
      <div class="mt-8 flex justify-center">
        <button id="toggleCustomAllocationsBtn" class="px-6 py-3 rounded-lg font-medium !text-white bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md flex items-center gap-2">
          <span style="color: white; font-weight: 500">Enter Custom Allocations</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>

      <!-- Custom Allocations Section -->
      <div id="customAllocationsSection" class="mt-16 hidden">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Left Column: Custom User Inputs -->
          <div class="space-y-6">
            <div class="flex items-center gap-2 mb-6">
              <span>✏️</span>
              <h3 class="text-xl font-semibold text-white">
                Your Custom Allocations
              </h3>
              <div class="relative group ml-2 inline-block cursor-pointer">
                <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-green-900 text-sm font-normal rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-50">
                  Adjust these percentages to set your personal savings and
                  investment goals.
                </div>
              </div>
            </div>

            <!-- Custom Savings -->
            <div class="space-y-3">
              <label class="block text-sm font-medium text-white/80">
                Your Desired Monthly Savings
              </label>
              <div class="grid grid-cols-2 gap-3">
                <div class="input-group">
                  <label class="text-xs text-white/60 mt-1">Percentage</label>
                  <input type="number" id="savingsPercentage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="0" min="0" value="" />
                </div>
                <div class="input-group">
                  <label class="text-xs text-white/60 mt-1">Amount ($)</label>
                  <input type="text" id="customSavingsAmount" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="$0.00" readonly value="" />
                </div>
              </div>
              <p id="savingsPercentageError" class="error-message text-sm text-red-400"></p>
            </div>

            <!-- Allocation Error Message -->
            <div id="allocationError" class="hidden text-red-400 text-sm p-3 bg-red-900/30 rounded-lg border border-red-500/50">
              <!-- Error message will be inserted here by JavaScript -->
            </div>

            <!-- Custom Investments -->
            <div class="space-y-3">
              <label class="block text-sm font-medium text-white/80">
                Your Desired Monthly Investments
              </label>
              <div class="grid grid-cols-2 gap-3">
                <div class="input-group">
                  <label class="text-xs text-white/60 mt-1">Percentage</label>
                  <input type="number" id="investmentsPercentage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="0" min="0" value="" />
                </div>
                <div class="input-group">
                  <label class="text-xs text-white/60 mt-1">Amount ($)</label>
                  <input type="text" id="customInvestmentsAmount" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="$0.00" readonly value="" />
                </div>
              </div>
              <p id="investmentsPercentageError" class="error-message text-sm text-red-400"></p>
            </div>

            <!-- Custom Cashflow -->
            <div class="space-y-3">
              <label class="block text-sm font-medium text-white/80">
                Your Calculated Monthly Cashflow
              </label>
              <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                <span id="customCashflowAmount" class="text-white">$0.00</span>
                <span id="customCashflowPercentage" class="text-red">(0.0%)</span>
              </div>
            </div>
          </div>

          <!-- Right Column: Custom Allocations Projection -->
          <div class="space-y-6">
            <h3 class="text-xl font-semibold text-white mb-6">
              Your Custom Allocations Projection
            </h3>

            <!-- Chart Type Buttons with Enhanced Styling -->
            <div class="flex justify-between gap-4 mb-6">
              <button id="customSavingsChartBtn" class="chart-btn chart-btn-active flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-lg transform scale-110 bg-gradient-to-r from-emerald-600 to-emerald-700">
                Savings
              </button>
              <button id="customInvestmentsChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
                Investments
              </button>
              <button id="customBothChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
                Both
              </button>
            </div>

            <!-- Chart and Summary Layout -->
            <div class="flex gap-6 items-start">
              <!-- Chart on the left -->
              <div class="flex-shrink-0 mt-4">
                <canvas id="customPieChart" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
              </div>

              <!-- Summary on the right -->
              <div class="flex-1">
                <div id="customProjectionSummary" class="p-4 bg-white/5 rounded-lg border border-white/10 h-full"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Centered CTA Section -->
      <div class="mt-8 flex justify-center">
        <div id="recommended-cashflow-cta" class="w-full max-w-md p-4 rounded-xl backdrop-blur-md bg-white/5 border border-white/10 shadow-sm flex flex-col items-center gap-4">
          <p id="cta-message" class="text-center text-white text-base font-medium leading-relaxed">
            <!-- This content will be set by JavaScript -->
          </p>

          <a href="index.html#contact-us" class="px-6 py-2 rounded-lg font-medium !text-white bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md" id="recommended-nav_cta">
            TALK TO AN EXPERT
          </a>
        </div>
      </div>
    </section>
  </div>

  <script src="data/province.js"></script>
  <script src="./js/budget-calculator-script.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script>
    //Stop body from scrolling when menu button is clicked
    $(".nav_button").on("click", function() {
      $("body").toggleClass("no-scroll");
    });
  </script>
  <script>
    // Ensure the navbar closes and icon reverts when a menu link is clicked
    $(".nav_menu_link:not(#calculatorToggle), .nav_cta").on(
      "click",
      function() {
        // Simulate a click on the nav_button to trigger Webflow's built-in close animation
        $(".nav_button").click();
      }
    );
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const calculatorToggle = document.getElementById("calculatorToggle");
      const calculatorDropdown =
        document.getElementById("calculatorDropdown");
      const navMenu = document.querySelector(".nav_menu"); // Assuming this is your main navigation menu

      if (calculatorToggle && calculatorDropdown && navMenu) {
        calculatorToggle.addEventListener("click", function(event) {
          event.preventDefault();
          event.stopPropagation(); // Prevent this click from immediately closing the dropdown via the window listener
          calculatorDropdown.classList.toggle("show");
        });

        // Close the dropdown if the user clicks outside of it, but not if clicking inside the nav menu itself
        window.addEventListener("click", function(event) {
          if (
            !calculatorToggle.contains(event.target) &&
            !calculatorDropdown.contains(event.target) &&
            !navMenu.contains(event.target)
          ) {
            calculatorDropdown.classList.remove("show");
          }
        });

        // Prevent clicks inside the dropdown from closing it
        calculatorDropdown.addEventListener("click", function(event) {
          event.stopPropagation();
        });
      }
    });
  </script>
</body>

</html>